{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore, query, getDocs, collection, where, addDoc } from \"firebase/firestore\"; // TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\nimport { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\"; // Your web app's Firebase configuration\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCevfjxYh5AOuPpzdQmiqTJOyoDJHZRxRQ\",\n  authDomain: \"salarymanagementapp-bf7be.firebaseapp.com\",\n  projectId: \"salarymanagementapp-bf7be\",\n  storageBucket: \"salarymanagementapp-bf7be.appspot.com\",\n  messagingSenderId: \"278630086267\",\n  appId: \"1:278630086267:web:937597dc30e7b764dbd4de\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst googleProvider = new GoogleAuthProvider();\n\nconst signInWithGoogle = async () => {\n  try {\n    const res = await signInWithPopup(auth, googleProvider);\n    const user = res.user;\n    const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user.uid));\n    const docs = await getDocs(q);\n\n    if (docs.docs.length === 0) {\n      await addDoc(collection(db, \"users\"), {\n        uid: user.uid,\n        name: user.displayName,\n        authProvider: \"google\",\n        email: user.email\n      });\n    }\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\n\nexport { auth, db, signInWithGoogle }; //export const app = initializeApp(firebaseConfig);\n//export const auth = getAuth(app);","map":{"version":3,"names":["initializeApp","getAuth","getFirestore","query","getDocs","collection","where","addDoc","GoogleAuthProvider","signInWithPopup","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","googleProvider","signInWithGoogle","res","user","q","uid","docs","length","name","displayName","authProvider","email","err","console","error","alert","message"],"sources":["C:/Users/Arpitha/Desktop/Mini Project/salarymanagementapp/src/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  query,\r\n  getDocs,\r\n  collection,\r\n  where,\r\n  addDoc,\r\n} from \"firebase/firestore\";\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\nimport {\r\n  GoogleAuthProvider,\r\n\r\n  signInWithPopup,\r\n  \r\n} from \"firebase/auth\";\r\n\r\n\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCevfjxYh5AOuPpzdQmiqTJOyoDJHZRxRQ\",\r\n  authDomain: \"salarymanagementapp-bf7be.firebaseapp.com\",\r\n  projectId: \"salarymanagementapp-bf7be\",\r\n  storageBucket: \"salarymanagementapp-bf7be.appspot.com\",\r\n  messagingSenderId: \"278630086267\",\r\n  appId: \"1:278630086267:web:937597dc30e7b764dbd4de\"\r\n};\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\nconst googleProvider = new GoogleAuthProvider();\r\nconst signInWithGoogle = async () => {\r\n  try {\r\n    const res = await signInWithPopup(auth, googleProvider);\r\n    const user = res.user;\r\n    const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user.uid));\r\n    const docs = await getDocs(q);\r\n    if (docs.docs.length === 0) {\r\n      await addDoc(collection(db, \"users\"), {\r\n        uid: user.uid,\r\n        name: user.displayName,\r\n        authProvider: \"google\",\r\n        email: user.email,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(err.message);\r\n  }\r\n};\r\nexport{  auth,\r\n  db,\r\n  signInWithGoogle,};\r\n  //export const app = initializeApp(firebaseConfig);\r\n//export const auth = getAuth(app);"],"mappings":"AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,SACEC,YADF,EAEEC,KAFF,EAGEC,OAHF,EAIEC,UAJF,EAKEC,KALF,EAMEC,MANF,QAOO,oBAPP,C,CASA;AACA;;AAEA,SACEC,kBADF,EAGEC,eAHF,QAKO,eALP,C,CASA;;AACA,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCADa;EAErBC,UAAU,EAAE,2CAFS;EAGrBC,SAAS,EAAE,2BAHU;EAIrBC,aAAa,EAAE,uCAJM;EAKrBC,iBAAiB,EAAE,cALE;EAMrBC,KAAK,EAAE;AANc,CAAvB;AAQA,MAAMC,GAAG,GAAGjB,aAAa,CAACU,cAAD,CAAzB;AACA,MAAMQ,IAAI,GAAGjB,OAAO,CAACgB,GAAD,CAApB;AACA,MAAME,EAAE,GAAGjB,YAAY,CAACe,GAAD,CAAvB;AACA,MAAMG,cAAc,GAAG,IAAIZ,kBAAJ,EAAvB;;AACA,MAAMa,gBAAgB,GAAG,YAAY;EACnC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMb,eAAe,CAACS,IAAD,EAAOE,cAAP,CAAjC;IACA,MAAMG,IAAI,GAAGD,GAAG,CAACC,IAAjB;IACA,MAAMC,CAAC,GAAGrB,KAAK,CAACE,UAAU,CAACc,EAAD,EAAK,OAAL,CAAX,EAA0Bb,KAAK,CAAC,KAAD,EAAQ,IAAR,EAAciB,IAAI,CAACE,GAAnB,CAA/B,CAAf;IACA,MAAMC,IAAI,GAAG,MAAMtB,OAAO,CAACoB,CAAD,CAA1B;;IACA,IAAIE,IAAI,CAACA,IAAL,CAAUC,MAAV,KAAqB,CAAzB,EAA4B;MAC1B,MAAMpB,MAAM,CAACF,UAAU,CAACc,EAAD,EAAK,OAAL,CAAX,EAA0B;QACpCM,GAAG,EAAEF,IAAI,CAACE,GAD0B;QAEpCG,IAAI,EAAEL,IAAI,CAACM,WAFyB;QAGpCC,YAAY,EAAE,QAHsB;QAIpCC,KAAK,EAAER,IAAI,CAACQ;MAJwB,CAA1B,CAAZ;IAMD;EACF,CAbD,CAaE,OAAOC,GAAP,EAAY;IACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;IACAG,KAAK,CAACH,GAAG,CAACI,OAAL,CAAL;EACD;AACF,CAlBD;;AAmBA,SAASlB,IAAT,EACEC,EADF,EAEEE,gBAFF,G,CAGE;AACF"},"metadata":{},"sourceType":"module"}